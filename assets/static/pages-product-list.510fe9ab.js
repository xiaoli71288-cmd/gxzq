(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-product-list"],{"2e45":function(t,a,i){"use strict";i.r(a);var e=i("316a"),n=i.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){i.d(a,t,(function(){return e[t]}))}(s);a["default"]=n.a},"316a":function(t,a,i){"use strict";i("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,i("99af"),i("c975"),i("fb6a");i("7e46");var e={props:{mode:{type:String,default:"list"},data:{type:Object,default:function(){return{volume:""}}},filterText:String},data:function(){return{ticker:null}},created:function(){},methods:{toDetail:function(){this.data.id;uni.navigateTo({url:"/pages/product/product?id=".concat(this.data.id,"&symbol=").concat(this.data.symbol),success:function(t){},fail:function(){},complete:function(){}})},getNum3:function(t){if(-1!=t.indexOf(".")){var a=t.split("."),i=a[1].slice(0,3);return a[0]+"."+i}return t}}};a.default=e},"4ad0":function(t,a,i){"use strict";i.r(a);var e=i("958e"),n=i("7d76");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(a,t,(function(){return n[t]}))}(s);i("890d");var r=i("f0c5"),o=Object(r["a"])(n["default"],e["b"],e["c"],!1,null,"41ed9299",null,!1,e["a"],void 0);a["default"]=o.exports},"574b":function(t,a,i){var e=i("24fb");a=e(!1),a.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 背景颜色 */\n/* 底部导航栏相关的颜色 */\n/* 字体颜色 */\n/*按钮相关颜色*/\n/* 产品详情页面 涨跌委买 按钮背景颜色 */\n/* 轮播小圆点颜色 */\n/* 边框颜色 */\n/* 首页 */\n/* 字体大小 */\n/* 距离尺寸相关 */\n/* margin-top */\n/* 圆角 */.product-item .list[data-v-0f5e8407]{padding:%?24?%}.product-item .list .small-icon[data-v-0f5e8407]{width:%?60?%;height:%?60?%;margin-right:%?16?%}.product-item .list .name[data-v-0f5e8407]{width:%?200?%}.product-item .list .trend-24 > uni-view[data-v-0f5e8407]{width:%?140?%;font-size:%?28?%;padding:%?14?%;text-align:center;border-radius:%?8?%;color:#fff}.product-item .card[data-v-0f5e8407]{padding:%?24?%}.product-item .card uni-image[data-v-0f5e8407]{width:100%;height:%?156?%;border-radius:%?16?%}.product-item .card .info .index[data-v-0f5e8407]{width:%?16?%;height:%?16?%;margin-right:%?4?%}',""]),t.exports=a},"586e":function(t,a,i){"use strict";i("7a82");var e=i("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,i("14d9"),i("d81d"),i("4de4"),i("d3b7"),i("7db0"),i("159b"),i("99af"),i("ac1f"),i("a434");var n=e(i("5530")),s=e(i("2909")),r=i("c47a"),o=e(i("0f23")),l=e(i("d4b9")),d=e(i("d7cf")),c=document.querySelector("body"),u=getComputedStyle(c).getPropertyValue("--yb-text-main-color"),f=getComputedStyle(c).getPropertyValue("--yb-text-des-color"),m={components:{ProductSearch:o.default,ProductItem:l.default},data:function(){return{activeStyle:{fontSize:"28rpx",fontFamily:"PingFang SC-Heavy, PingFang SC",fontWeight:"800",color:u},inactiveStyle:{fontSize:"28rpx",fontFamily:"PingFang SC-Heavy, PingFang SC",fontWeight:"500",color:f},tabList:[],current:"0",tabCurrent:0,listData:[],filterData:[],params:{limit:10,page:1,title:"",classify_id:""},updateParams:{type:1,symbols:""},timer:null,timer1:null,total:0,visibleProducts:[],symbols:[],isFinished:!1}},onLoad:function(){var t=this;this.getClass(),0==this.listData.length&&this.list(),uni.$on("showProduct",(function(){clearInterval(t.timer1),t.timer1=null,t.timer1=setInterval((function(){t.update()}),5e3)})),uni.$on("hideProduct",(function(){clearInterval(t.timer1),clearInterval(t.timer)}))},onShow:function(){var t=this;null==this.timer1&&(clearInterval(this.timer1),this.timer1=setInterval((function(){t.update()}),5e3))},onHide:function(){clearInterval(this.timer),clearInterval(this.timer1)},onReachBottom:function(){this.total>this.listData.length&&(this.params.page++,this.list())},onPageScroll:function(t){var a=this;clearTimeout(this.timer),this.timer=setTimeout((function(){var i=t.scrollTop,e=uni.getSystemInfoSync().windowHeight;a.updateProductPositions(),a.getVisibleProducts(i,e)}),100)},methods:{list:function(){var t=this;1==this.params.page&&(this.listData=[]),this.params.classify_id?(0,r.productList)(this.params).then((function(a){var i,e;t.isFinished=!0,(i=t.listData).push.apply(i,(0,s.default)(a.data)),t.total=null!==(e=null===a||void 0===a?void 0:a.total)&&void 0!==e?e:a.data.length,t.symbols=t.listData.map((function(t){return t.symbol})),t.$nextTick((function(){var a=uni.getSystemInfoSync().windowHeight;t.updateProductPositions(),t.getVisibleProducts(0,a)}))})):(0,r.productClassify)().then((function(a){t.params.classify_id=a.data[0].id,(0,r.productList)(t.params).then((function(a){var i,e;t.isFinished=!0,(i=t.listData).push.apply(i,(0,s.default)(a.data)),t.total=null!==(e=null===a||void 0===a?void 0:a.total)&&void 0!==e?e:a.data.length,t.symbols=t.listData.map((function(t){return t.symbol})),t.$nextTick((function(){var a=uni.getSystemInfoSync().windowHeight;t.updateProductPositions(),t.getVisibleProducts(0,a)}))}))}))},update:function(){var t=this,a=this.tabList.filter((function(a){return a.id==t.current}))[0],i=a.open_status,e=a.start_time,s=a.end_time;0!=i&&(2!=i||this.$dayjs(Date.now()).format("HH:mm")>=e&&this.$dayjs(Date.now()).format("HH:mm")<=s)&&(this.updateParams.symbols=this.symbols.join(),this.updateParams.symbols.length>0&&(0,r.productList)(this.updateParams).then((function(a){t.listData=t.listData.map((function(t){var i=a.data.find((function(a){return a.symbol===t.symbol}));if(i){var e=document.getElementById("".concat(t.id));i.new!==t.new&&(e.classList.add("weak"),setTimeout((function(){e.classList.remove("weak")}),500))}return i?(0,n.default)((0,n.default)({},t),i):t}))})))},updateProductPositions:function(){var t=this;this.listData.forEach((function(a,i){var e=uni.createSelectorQuery().select("#product-".concat(a.id,"-").concat(i));e.boundingClientRect((function(e){t.$set(t.listData,i,(0,n.default)((0,n.default)({},a),{},{top:null===e||void 0===e?void 0:e.top}))})).exec()}))},search:function(t){this.list()},watchSearch:function(t){this.params.title=t},change:function(t){var a=this,i=t.id,e=t.index;this.isFinished=!1,this.listData=[],this.current=i,this.params.page=1,this.params.classify_id=i,this.tabCurrent=e,this.updateParams.symbols="",clearInterval(this.timer1),this.list(),this.timer1=setInterval((function(){a.update()}),5e3)},getClass:function(){var t=this;(0,r.productClassify)().then((function(a){a.data.map((function(t){return t["name"]=t.title})),t.tabList=a.data,t.current=a.data[0].id,t.params.classify_id=a.data[0].id,d.default.commit("setProductClass",a.data)}))},getVisibleProducts:function(t,a){var i=this;this.visibleProducts=this.listData.filter((function(i){return i.top>=t&&i.top<=t+a})),this.symbols=this.visibleProducts.map((function(t){return t.symbol})),clearInterval(this.timer1),this.timer1=null,this.timer1=setInterval((function(){i.update()}),5e3)},toDetail:function(t){clearInterval(this.timer),clearInterval(this.timer1),uni.navigateTo({url:"/pages/product/product?id=".concat(t.id,"&symbol=").concat(t.symbol,"&class=").concat(this.current)})},getRandomFour:function(t){for(var a=[],i=(0,s.default)(t),e=0;e<Math.ceil(i.length/2);e++){var n=Math.floor(Math.random()*i.length);a.push(i[n]),i.splice(n,1)}return a}}};a.default=m},"60d3":function(t,a,i){"use strict";var e=i("9bb8"),n=i.n(e);n.a},"7b4d":function(t,a,i){var e=i("8048");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=i("4f06").default;n("8a5b6bd8",e,!0,{sourceMap:!1,shadowMode:!1})},"7d76":function(t,a,i){"use strict";i.r(a);var e=i("586e"),n=i.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){i.d(a,t,(function(){return e[t]}))}(s);a["default"]=n.a},8048:function(t,a,i){var e=i("24fb");a=e(!1),a.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 背景颜色 */\n/* 底部导航栏相关的颜色 */\n/* 字体颜色 */\n/*按钮相关颜色*/\n/* 产品详情页面 涨跌委买 按钮背景颜色 */\n/* 轮播小圆点颜色 */\n/* 边框颜色 */\n/* 首页 */\n/* 字体大小 */\n/* 距离尺寸相关 */\n/* margin-top */\n/* 圆角 */.weak[data-v-41ed9299]{color:rgba(25,28,39,.6)!important}[data-v-41ed9299] .u-tabs__wrapper__nav{margin-left:%?-22?%}.product-list[data-v-41ed9299]{min-height:100%;padding-bottom:%?30?%}.top[data-v-41ed9299]{height:calc(%?100?% + %?88?% + 0px + %?32?%);z-index:1020}.top .placeholder[data-v-41ed9299]{height:calc(0px + %?88?%)}.content[data-v-41ed9299]{margin-bottom:%?88?%}.content .card-item[data-v-41ed9299]{width:48%!important;margin-top:%?22?%}.content .list-item[data-v-41ed9299]{width:100%;margin-top:%?20?%}',""]),t.exports=a},"890d":function(t,a,i){"use strict";var e=i("7b4d"),n=i.n(e);n.a},"935a":function(t,a,i){"use strict";i.d(a,"b",(function(){return n})),i.d(a,"c",(function(){return s})),i.d(a,"a",(function(){return e}));var e={myItem:i("a38b").default},n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"product-item flex-1 overflow-hidden",class:"card"!==t.mode?"radius-sm":"radius-md"},["card"!==t.mode?i("my-item",{staticClass:"list item flex align-items-center",attrs:{shape:"row"},scopedSlots:t._u([{key:"icon",fn:function(){return["list-icon"==t.mode?i("v-uni-image",{staticClass:"small-icon circle flex-shrink-0",attrs:{src:t.data.icon}}):t._e()]},proxy:!0}],null,!1,2566957866)},[i("v-uni-view",{staticClass:"name flex-1"},[i("v-uni-view",[-1!==t.data.title.indexOf(t.filterText)?i("p",{staticClass:"text-md font-bold"},[i("span",{staticClass:"align-middle"},[t._v(t._s(t.data.title.substr(0,t.data.title.indexOf(t.filterText))))]),i("span",{staticClass:"align-middle highlight-color"},[t._v(t._s(t.filterText))]),i("span",{staticClass:"align-middle"},[t._v(t._s(t.data.title.substr(t.data.title.indexOf(t.filterText)+t.filterText.length)))])]):i("v-uni-text",{staticClass:"text-md font-bold text-main-color"},[t._v(t._s(t.data.title))])],1),i("v-uni-view",{staticClass:"flex align-items-center text-xs text-des-color mt-xxs",staticStyle:{"line-height":"28rpx",height:"28rpx"}},[i("v-uni-text",[t._v("24H"+t._s(t.$t("msg.index_l")))]),i("v-uni-text",{staticStyle:{"margin-left":"8rpx"}},[t._v(t._s(t.data.num))])],1)],1),i("v-uni-view",{staticClass:"price text-sm",class:t.$GreenUp?t.data.rise_and_fall_ratio>=0?"up-color":"down-color":t.data.rise_and_fall_ratio<=0?"up-color":"down-color",staticStyle:{"max-width":"140rpx","overflow-wrap":"break-word"}},[t._v(t._s(t.data.new))]),i("v-uni-view",{staticClass:"flex justify-content-end",staticStyle:{width:"208rpx"}},[i("v-uni-view",{staticClass:"trend-24 flex justify-content-center"},[i("v-uni-view",{staticClass:"flex justify-content-end text-xs",class:t.$GreenUp?t.data.rise_and_fall_ratio>=0?"bg-up":"bg-down":t.data.rise_and_fall_ratio<=0?"bg-up":"bg-down",staticStyle:{overflow:"hidden"}},[t._v(t._s(t.data.rise_and_fall_ratio>=0?"+":"")+t._s(t.data.rise_and_fall_ratio)+"%")])],1)],1)],1):i("my-item",{staticClass:"item card overflow-hidden"},[i("v-uni-image",{attrs:{src:t.data.icon?t.data.icon:"/static/images/product/item.png",mode:""}}),i("v-uni-view",{staticClass:"info flex-1",staticStyle:{width:"284rpx"}},[i("v-uni-view",{staticClass:"name text-md mt-md font-bold text-main-color"},[t._v(t._s(t.data.title))]),i("v-uni-view",{staticClass:"text-xs mt-xxs"},[i("v-uni-view",{staticClass:"new text-des-color"},[t._v(t._s(t.data.new))])],1),i("v-uni-view",{staticClass:"flex-between-center mt-md text-des-color text-xs"},[i("v-uni-view",{staticClass:"flex align-items-center",staticStyle:{"line-height":"28rpx",height:"28rpx"}},[i("v-uni-text",[t._v("24H"+t._s(t.$t("msg.index_l")))]),i("v-uni-text",{staticStyle:{"margin-left":"4rpx"}},[t._v(t._s(t.data.num))])],1),i("v-uni-view",{},[i("v-uni-image",{staticClass:"index",attrs:{src:t.$GreenUp?t.data.rise_and_fall_ratio>=0?"/static/images/config/common/up.png":"/static/images/config/common/down.png":t.data.rise_and_fall_ratio>=0?"/static/images/config/common/red_up.png":"/static/images/config/common/green_down.png",mode:""}}),i("v-uni-text",{class:t.$GreenUp?t.data.rise_and_fall_ratio>=0?"text-up":"text-down":t.data.rise_and_fall_ratio<=0?"text-up":"text-down"},[t._v(t._s(t.data.rise_and_fall_ratio)+"%")])],1)],1)],1)],1)],1)},s=[]},"958e":function(t,a,i){"use strict";i.d(a,"b",(function(){return n})),i.d(a,"c",(function(){return s})),i.d(a,"a",(function(){return e}));var e={uTabs:i("d119").default,noData:i("bbb6").default,loadMore:i("cd5b").default},n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"page-main page-padding-hor flex-column product-list text-main-color"},[i("v-uni-view",{staticClass:"top"},[i("v-uni-view",{staticClass:"position-fixed page-main fixed-top w-100",staticStyle:{"padding-bottom":"32rpx",width:"calc(100% - 64rpx)"}},[i("v-uni-view",{staticClass:"w-100",staticStyle:{height:"var(--status-bar-height)"}}),i("product-search",{attrs:{inputVal:t.params.title},on:{search:function(a){arguments[0]=a=t.$handleEvent(a),t.search.apply(void 0,arguments)},watchSearch:function(a){arguments[0]=a=t.$handleEvent(a),t.watchSearch.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"tab nav-bar-h align-items-center"},[i("u-tabs",{attrs:{list:t.tabList,"is-scroll":!1,lineColor:"linear-gradient(284deg, var(--yb-linear-start) 0%, var(--yb-linear-end) 100%)",current:t.tabCurrent,lineWidth:"14",lineHeight:"4",activeStyle:t.activeStyle,inactiveStyle:t.inactiveStyle},on:{change:function(a){arguments[0]=a=t.$handleEvent(a),t.change.apply(void 0,arguments)}}})],1)],1)],1),t.isFinished||0!=t.listData.length?i("v-uni-view",{},[t.listData&&0!=t.listData.length?i("v-uni-view",{staticClass:"content margin-top-md border-radius-lg"},[t.tabList[t.tabCurrent]&&2!=t.tabList[t.tabCurrent].product_show_type?i("v-uni-view",{staticClass:"flex text-des-color",staticStyle:{margin:"32rpx 24rpx 24rpx 24rpx"}},[i("v-uni-text",{staticClass:"flex-1"},[t._v(t._s(t.$t("msg.mc_n")))]),i("v-uni-view",{staticClass:"flex-between-center",staticStyle:{width:"300rpx"}},[i("v-uni-text",[t._v(t._s(t.$t("msg.zxjg")))]),i("v-uni-text",[t._v(t._s(t.$t("msg.zf24")))])],1)],1):t._e(),i("v-uni-view",{staticClass:"trends-list flex flex-wrap justify-content-between"},[t._l(t.listData,(function(a,e){return i("v-uni-view",{key:a.id+"-"+e,staticClass:"item flex overflow-hidden row-center",class:t.tabList[t.tabCurrent]&&2==t.tabList[t.tabCurrent].product_show_type?"card-item":"list-item",attrs:{id:"product-"+a.id+"-"+e,"hover-class":"none"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toDetail(a)}}},[i("product-item",{attrs:{data:a,id:a.id,mode:0!=t.listData.length&&t.tabList[t.tabCurrent]&&1==t.tabList[t.tabCurrent].product_show_type?"list":t.tabList[t.tabCurrent]&&2==t.tabList[t.tabCurrent].product_show_type?"card":"list-icon",filterText:t.params.title}})],1)})),i("load-more",{attrs:{more:t.total>t.listData.length}})],2)],1):i("no-data",{attrs:{text:t.$t("msg.zwsj"),imgUrl:"cp"}})],1):i("vue-loaders-ball-triangle-path",{staticClass:"mt-xxxl",staticStyle:{margin:"140rpx auto 100rpx"},attrs:{color:"var(--triangle-loading)",scale:"0.8"}})],1)},s=[]},"9bb8":function(t,a,i){var e=i("574b");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=i("4f06").default;n("1bc41914",e,!0,{sourceMap:!1,shadowMode:!1})},d4b9:function(t,a,i){"use strict";i.r(a);var e=i("935a"),n=i("2e45");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(a,t,(function(){return n[t]}))}(s);i("60d3");var r=i("f0c5"),o=Object(r["a"])(n["default"],e["b"],e["c"],!1,null,"0f5e8407",null,!1,e["a"],void 0);a["default"]=o.exports}}]);